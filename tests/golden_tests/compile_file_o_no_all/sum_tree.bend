add = 位a 位b (+ a b)

gen = 位n switch n {
  0: (Tree/Leaf 1)
  _: (Tree/Node (gen n-1) (gen n-1))
}

sum = 位t
  match t {
    Tree/Leaf: t.value
    Tree/Node: (add (sum t.left) (sum t.right))
  }

main = (sum (gen 8))
